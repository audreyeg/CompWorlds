



  <!-- 
  		CHAT SYSTEM

	1) index.html 
			-place outside of Canvas where npc dialogue lives
			-buttons filled with user responses are
			-based on which button user clicks, response is saved and is used to determine next dialogue
	2) animated/playable sprite (in collisions)
			-use switch statement to determine npc dialogue and user response options
				-switch statement is based on 2 factors (which button user pushed) and how many buttons user has pushed
				since conversation started


  -->

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>CowWorld</title>
  
    <script type="text/javascript" src="./assetmanager.js"></script>
    <script type="text/javascript" src="./timer.js"></script>
    <script type="text/javascript" src="./gameengine.js"></script>
    <script type="text/javascript" src="./animator.js"></script>
    <script type="text/javascript" src="./dialog.js"></script>
    <script type="text/javascript" src="./camera.js"></script>
    <script type="text/javascript" src="./coyote.js"></script>
    <script type="text/javascript" src="./cowboy.js"></script>
    <script type="text/javascript" src="./npc.js"></script>
    <script type="text/javascript" src="./ground.js"></script>
    <script type="text/javascript" src="./pickUps.js"></script>
    <script type="text/javascript" src="./fight.js"></script>
    <script type="text/javascript" src="./loadingZones.js"></script>
    <script type="text/javascript" src="./OverWorld.js"></script>
    <script type="text/javascript" src="./interior.js"></script>
    <script type="text/javascript" src="./sceneManager.js"></script>
    <script type="text/javascript" src="./missionManager.js"></script>
    <script type="text/javascript" src="./EnemySpawner.js"></script>
    <script type="text/javascript" src="./util.js"></script>
    <script type="text/javascript" src="./boundingbox.js"></script>
    <script type="text/javascript" src="./inventory.js"></script>
    <script type="text/javascript" src="./main.js"></script>
    <script type="text/javascript" src="./scenes.js"></script>

<style>
    #townSong 
    {
        background-color: tan;
        color: red;
        font-family: Papyrus;
        bottom: 0;
        left: 0;
        top: 200;
        position: absolute;
        width: 1400px;
        height: 770px;
        text-align: center; 
        font-size: 100px;
        overflow:hidden;
    }


</style>


</head>
<body>
    <div>
    </div>
    <canvas id="gameWorld" width="1400" height="768" style="background: tan;" tabindex ="0" autofocus></canvas>
       <div>
        <strong>Inventory</strong><br/>
    </div>

    <div id="inventory">
    </div>
    <!-- Where npc says their lines -->
     <div id="chat" style = "color: black; font-family: Papyrus">
    </div>
    <!-- Where player response options are. On click, sends to below function-->
    <button id = "response1" onclick = "change(this, 1)" style = "color: red; font-family: Papyrus"></button>
    <button id = "response2" onclick = "change(this, 2)" style = "color: red; font-family: Papyrus"></button>

    <script>
    	//CHAT variables
    	//variable to determine whether user responded with first or second option (button)
    	var response = 0;
    	//variable to determine how deep into conversation user is (based on how many buttons user has pushed)
        var userCount = 0;
        //dialogue flat to determine npc chat options
        var flag = false;
        //CHAT variables end

        var coyotesKilled = 0;
        var killCoyoteMissionActive = false;
        playerInventory = new Inventory();

        //checks to see when the user has responded (button is pushed)
        function change(btn, option) {
        	//sets to true when user has selected a response option
      	  	var clicked = true;
            //sets response to either 1 or 2 depending if user selected 1st or 2nd button
      	  	this.response = option;
       	 	responded(clicked);
       	 	//increment usercount to determine how deep into conversation user is now
            this.userCount++;
         }
            //clears the chat/buttons 
     	function responded(clicked) 
          	{
          		//empties contents of buttons and div element where npc has lines if user has responded
          		//otherwise the contents of buttons and chat element will not be cleared for more dialogue
            	if (clicked) {
            	document.getElementById("response1").innerHTML = "";
            	document.getElementById("response2").innerHTML = "";
            	document.getElementById("chat").innerHTML = "";
            	}
            }
            function playTownMusic() {
                document.getElementById("townAudio").play();
                townSong.style.visibility = "hidden";
            }
  
    </script>
  

    <input type="button" value="START GAME" id = "townSong" onclick="playTownMusic()">
    <audio loop id="townAudio" src="./townSong.mp3"></audio>
    <audio loop id="saloonAudio" src="./saloonSong.mp3"></audio>
    <audio loop id="fightAudio" src="./fightSong.mp3"></audio>
    <br><input type="checkbox" id="debug" checked> Debug
</body>
</html>
